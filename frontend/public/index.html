<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>AI4Pi Chat</title><script src="https://sdk.minepi.com/pi-sdk.js"></script><style>body{font-family:sans-serif;text-align:center;margin:2em}button{margin:.5em;padding:.6em 1em;border:none;border-radius:4px;background:#333;color:#fff;cursor:pointer}button:hover{background:#555}#status{text-align:center;margin-bottom:1em}#chatBox{border:1px solid #ccc;max-width:400px;margin:1em auto;padding:0.5em;height:200px;overflow-y:auto;text-align:left}#chatInput{width:70%;padding:.4em}</style></head><body><h1>AI4Pi Chat</h1><div id="status">Unregistered User</div><button onclick="login()">Login with Pi</button><button onclick="pay()">Pay 3.14 Pi</button><div id="chatBox"></div><input id="chatInput" type="text" placeholder="Type message..."><button onclick="send()">Send</button><script>const SANDBOX=true;let user=null;window.onload=()=>{Pi.init({version:"2.0",sandbox:SANDBOX})};function login(){Pi.authenticate(["username"],a=>{if(a.user){user=a.user.username;alert("Welcome, "+user);document.getElementById("status").innerText="Logged in as "+user}else{user=null;alert("Login failed, unregistered.");document.getElementById("status").innerText="Unregistered User"}},e=>{user=null;alert("Login error: "+e);document.getElementById("status").innerText="Unregistered User"});}function pay(){const p={amount:3.14,memo:"AI4Pi Payment",metadata:{test:"data"}};Pi.createPayment(p,{onSuccessfulPayment:(pid,tx)=>alert("Payment successful! TxID: "+tx),onError:e=>alert("Payment error: "+e),onPaymentCancel:pid=>alert("Payment cancelled: "+pid)})}function addMsg(s,m){const d=document.getElementById("chatBox");let p=document.createElement("p");p.innerHTML="<strong>"+s+":</strong> "+m;d.appendChild(p);d.scrollTop=d.scrollHeight}function send(){const i=document.getElementById("chatInput"),v=i.value.trim();if(!v)return;i.value="";addMsg("You",v);setTimeout(()=>addMsg("AI","Echo: "+v),800)}</script></body></html>